import { Module } from '@nestjs/common';
import { MongooseModule } from '@nestjs/mongoose';
import { AzureTableStorageModule } from '@nestjs/azure-database';

import {
  AdminEntitiesService,
  CronProcessProvider,
  CronProcessRepositoryProvider,
  CronProcessRunProvider,
  CronProcessStateUpdateProvider,
  CronProcessTable,
  Document,
  DocumentSchema,
  EntityCreateAllForFolderProvider,
  EntityCreateOneForFolderProvider,
  EntityCreateProvider,
  EntityCreateWatermarkedTypeProvider,
  EntityDeleteProvider,
  EntityFindAllProvider,
  EntityGroupFindProvider,
  EntityGroupProvider,
  EntityOrderProvider,
  EntityProcessProvider,
  EntityPublishProvider,
  ImageAddBlobProvider,
  ImageAddProvider,
  ImageDeleteBlobsProvider,
  ImageExifProvider,
  ImageFindFolderProvider,
  ImageProcessAllProvider,
  ImageProcessOneProvider,
  ImagePublishProvider,
  ImageRemoveAllProvider,
  ImageRemoveOneProvider,
  ImageResizeProvider,
  ImageTinifyProvider,
  ImageUpdateNewProvider,
  ImageVideoEmailProvider,
  ImageVideoFfmpegExifProvider,
  ImageVideoFfmpegFrontCoverProvider,
  ImageVideoMeltProcessProvider,
  ImageVideoMeltProvider,
  ImageVideoPublishProvider,
  SocialMediaPostProvider,
  WebSocketMessageProvider,
} from '@dark-rush-photography/api/data';
import { AdminEntitiesController } from './admin-entities.controller';

@Module({
  imports: [
    MongooseModule.forFeature([
      { name: Document.name, schema: DocumentSchema },
    ]),
    AzureTableStorageModule.forFeature(CronProcessTable, {
      table: 'CronProcess',
      createTableIfNotExists: true,
    }),
  ],
  controllers: [AdminEntitiesController],
  providers: [
    {
      provide: CronProcessRepositoryProvider.name,
      useClass: CronProcessRepositoryProvider,
    },
    AdminEntitiesService,
    CronProcessProvider,
    CronProcessRepositoryProvider,
    CronProcessRunProvider,
    CronProcessStateUpdateProvider,
    EntityCreateAllForFolderProvider,
    EntityCreateOneForFolderProvider,
    EntityCreateProvider,
    EntityCreateWatermarkedTypeProvider,
    EntityDeleteProvider,
    EntityFindAllProvider,
    EntityGroupFindProvider,
    EntityGroupProvider,
    EntityOrderProvider,
    EntityProcessProvider,
    EntityPublishProvider,
    ImageAddBlobProvider,
    ImageAddProvider,
    ImageDeleteBlobsProvider,
    ImageExifProvider,
    ImageFindFolderProvider,
    ImageProcessAllProvider,
    ImageProcessOneProvider,
    ImagePublishProvider,
    ImageRemoveAllProvider,
    ImageRemoveOneProvider,
    ImageResizeProvider,
    ImageTinifyProvider,
    ImageUpdateNewProvider,
    ImageVideoEmailProvider,
    ImageVideoFfmpegExifProvider,
    ImageVideoFfmpegFrontCoverProvider,
    ImageVideoMeltProcessProvider,
    ImageVideoMeltProvider,
    ImageVideoPublishProvider,
    SocialMediaPostProvider,
    WebSocketMessageProvider,
  ],
})
export class AdminEntitiesModule {}
